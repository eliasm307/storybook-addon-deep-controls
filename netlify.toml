# see https://docs.netlify.com/configure-builds/file-based-configuration/#configuration-details
# All paths configured in the netlify.toml should be absolute paths relative to the base directory, which is the root by default (/).
# I assume this takes the folder with the .git folder as the base directory.
[build]
  # see https://docs.netlify.com/configure-builds/file-based-configuration/#build-settings

  # directory where Netlify checks for dependency management files such as package.json or .nvmrc, installs dependencies, and runs your build command.
  # NOTE: needs to be root as this checks for changes in the base directory to know whether a deploy preview is needed, if it is only checking the
  # example package then addon changes wont get previewed
  base = "./"

  # the command to run to build your site
  command = "npm --prefix ./packages/example-v8-vite run build"

  # directory that contains the deploy-ready HTML files and assets generated by the build. The directory is relative to the base directory
  publish = "./packages/example-v8-vite/storybook-static"